"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{2615:function(e,t,a){a.d(t,{Z:function(){return w}});var s=a(7437),r=a(2265),i=a(3763),o=a(1721),n=a(9733),l=a(8185),d=a(4919),c=a(4042),h=a(2468),u=a(518),m=a(7592),x=a(5306),g=a(6127),f=a(9913),v=a(6706),y=a(6653),p=a(2638),b=a(7776);function w(e){let{purchaseData:t,onBackToSuccess:a,onCompleteReview:w}=e,[j,N]=(0,r.useState)(0),[k,F]=(0,r.useState)([]),[E,B]=(0,r.useState)(new Set),[A,z]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[M,Z]=(0,r.useState)(""),[D,I]=(0,r.useState)(0),[Y,H]=(0,r.useState)(0);(0,r.useState)(()=>{var e,a,s;let r=parseInt((null==t?void 0:t.plan)||"30"),i=(null==t?void 0:null===(e=t.giftData)||void 0===e?void 0:e.selectedThemes)||[],o=(null==t?void 0:null===(a=t.giftData)||void 0===a?void 0:a.recipientName)||"Friend",n=(null==t?void 0:null===(s=t.giftData)||void 0===s?void 0:s.senderName)||"Your Secret Admirer",l=(null==t?void 0:t.plan)==="365"?1e3:100;H(l),I(l);let d=e=>{let t={romantik:["My dearest ".concat(o,", with each passing day, my heart grows fonder of you. This flower blooms as my love does - endlessly and beautifully."),"Beloved ".concat(o,", you are the sunshine that makes my world brighter. Every moment with you is a treasure I hold close to my heart."),"My love, like this eternal flower, my feelings for you will never fade. You are my everything, today and always.","Sweet ".concat(o,", in a world full of temporary things, you are my constant. My love for you grows stronger with each passing day."),"Darling, you have captured my heart completely. This flower is but a small token of the endless love I have for you."],motivasyon:["Dear ".concat(o,", remember that every challenge you face is just another opportunity to show your incredible strength. You've got this!"),"Champion ".concat(o,", your potential is limitless. Today is another chance to move closer to your dreams. Keep pushing forward!"),"Warrior ".concat(o,", you have overcome so much already. Whatever today brings, you have the strength to handle it with grace."),"Dear achiever, ".concat(o,", success isn't just about the destination - it's about who you become along the way. You're becoming amazing!"),"Superstar ".concat(o,", believe in yourself as much as I believe in you. You have everything it takes to make your dreams reality.")],espirili:["Hey ".concat(o,"! Life's too short for boring flowers, so here's a digital one that won't need watering (you're welcome!). Hope this brings a smile to your beautiful face today!"),"".concat(o,", if flowers had personalities, this one would definitely be the class clown. Just like you, it knows how to brighten everyone's day!"),"Surprise ".concat(o,"! Your daily dose of digital beauty has arrived. No allergies, no wilting, just pure awesomeness delivered straight to your screen!"),"Hey there ".concat(o,"! This flower called and asked to be sent to the most amazing person I know. Guess who that is? (Hint: it's you!)"),"".concat(o,", roses are red, violets are blue, digital flowers are awesome, and so are you! (I know, I know, I should quit my day job and become a poet!)")],default:["Dear ".concat(o,", I hope this message finds you well. I wanted to send you a little something to brighten your day and let you know I'm thinking of you."),"Hello beautiful ".concat(o,"! Another day, another reason to smile. Remember that you bring so much joy to those around you."),"Good morning ".concat(o,"! As this flower continues to bloom, so does my appreciation for having you in my life. You make every day brighter."),"Hey ".concat(o,", just a gentle reminder that you are stronger than you think and more loved than you know. Keep shining your beautiful light!"),"Dear ".concat(o,", life has a way of showing us beauty in unexpected moments. I hope today brings you one of those special moments to cherish.")]},a=t[i.length>0?i[Math.floor(Math.random()*i.length)]:"default"]||t.default,s=a[e%a.length];return"".concat(s,"\n\nWith love,\n").concat(n)};F(Array.from({length:r},(e,t)=>d(t)))});let R=k.length,T=e=>{if(/(https?:\/\/[^\s]+|www\.[^\s]+|[^\s]+\.(com|org|net|edu|gov|mil|int|io|co|me|tv|app)[^\s]*)/gi.test(e))return{isValid:!1,error:"Links and URLs are not allowed for security reasons."};for(let t of[/javascript:/gi,/<script/gi,/onclick=/gi,/onload=/gi,/href=/gi,/src=/gi])if(t.test(e))return{isValid:!1,error:"Suspicious content detected. Please use only safe text."};return e.length>1e3?{isValid:!1,error:"Message is too long. Please keep it under 1000 characters."}:{isValid:!0}},_=async()=>{var e,a,s;if(D<=0){b.Am.error("No tokens remaining! Please use manual editing.");return}z(!0),I(D-1),await new Promise(e=>setTimeout(e,2e3));let r=[...k];null==t||null===(e=t.giftData)||void 0===e||e.selectedThemes;let i=(null==t?void 0:null===(a=t.giftData)||void 0===a?void 0:a.recipientName)||"Friend",o=(null==t?void 0:null===(s=t.giftData)||void 0===s?void 0:s.senderName)||"Your Secret Admirer",n=["Dear ".concat(i,", today brings new possibilities and fresh hope. May this flower remind you that beautiful things are always blooming in your life."),"Hello ".concat(i,", every sunrise is a reminder that life offers us another chance to create something beautiful. You inspire me every day."),"".concat(i,", in the garden of life, you are the most precious bloom. Your kindness and grace make the world a more beautiful place."),"My dear ".concat(i,", like this digital flower that never wilts, my appreciation for you only grows stronger with time."),"".concat(i,", may this message be a gentle reminder that you are cherished, valued, and deeply loved. Have a wonderful day!")];r[j]=n[Math.floor(Math.random()*n.length)]+"\n\nWith love,\n".concat(o),F(r),z(!1),b.Am.success("Message regenerated! ".concat(D-1," tokens remaining."))},L=E.has(j),P=E.size===R;return(0,s.jsxs)("div",{className:"min-h-screen bg-[#F9FAFB]",children:[(0,s.jsx)("header",{className:"px-6 lg:px-8 py-6 bg-white border-b border-[#E5E7EB]",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] rounded-lg flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"text-2xl font-bold text-[#111827]",children:"FloroDay"})]}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center gap-8",children:[(0,s.jsx)("a",{href:"#",className:"text-[#6B7280] hover:text-[#111827] transition-colors",children:"Home"}),(0,s.jsx)("a",{href:"#",className:"text-[#6B7280] hover:text-[#111827] transition-colors",children:"Send a Floro"}),(0,s.jsx)("a",{href:"#",className:"text-[#6B7280] hover:text-[#111827] transition-colors",children:"My Floros"}),(0,s.jsx)("a",{href:"#",className:"text-[#6B7280] hover:text-[#111827] transition-colors",children:"Profile"}),(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] rounded-full"})]})]})}),(0,s.jsx)("main",{className:"px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)(i.E.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-[#111827] mb-4",children:"Review Your Messages"}),(0,s.jsxs)("p",{className:"text-lg text-[#6B7280] max-w-2xl mx-auto",children:["Approve or edit the AI-generated messages for your ",R,"-day Floro."]})]}),(0,s.jsxs)(i.E.div,{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,s.jsxs)("div",{className:"p-8 border-b border-[#E5E7EB]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-[#111827]",children:["Message ",j+1," of ",R]}),L&&(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-[#10B981] text-white px-3 py-1 rounded-full text-sm",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4"}),"Approved"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.z,{onClick:()=>{j>0&&N(j-1)},disabled:0===j,variant:"outline",size:"sm",className:"w-10 h-10 p-0",children:(0,s.jsx)(u.Z,{className:"w-4 h-4"})}),(0,s.jsx)(n.z,{onClick:()=>{j<R-1&&N(j+1)},disabled:j===R-1,variant:"outline",size:"sm",className:"w-10 h-10 p-0",children:(0,s.jsx)(m.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-[#FEF3C7] to-[#FDE68A] rounded-xl",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-[#F59E0B]"}),(0,s.jsxs)("span",{className:"text-[#92400E] font-medium",children:["AI Regeneration Tokens: ",D," / ",Y]}),0===D&&(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 text-[#DC2626]"}),(0,s.jsx)("span",{className:"text-[#DC2626] text-sm font-medium",children:"Manual editing only"})]})]})]}),(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)(o.M,{mode:"wait",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[S?(0,s.jsx)(l.Zb,{className:"p-8 bg-gradient-to-br from-[#F8F9FA] to-[#E5E7EB] border-0 mb-8",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-[#3B82F6]"}),(0,s.jsx)("span",{className:"font-medium text-[#111827]",children:"Manual Edit Mode"})]}),(0,s.jsx)(d.g,{value:M,onChange:e=>Z(e.target.value),className:"min-h-[200px] text-lg leading-relaxed",placeholder:"Enter your custom message..."}),(0,s.jsxs)("div",{className:"text-sm text-[#6B7280]",children:[(0,s.jsx)("strong",{children:"Security Notice:"})," Links, URLs, and scripts are not allowed for security reasons."]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(n.z,{onClick:()=>{let e=T(M);if(!e.isValid){b.Am.error(e.error);return}let t=[...k];t[j]=M,F(t),C(!1),Z(""),b.Am.success("Message updated successfully!")},className:"bg-[#10B981] text-white hover:bg-[#059669]",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),(0,s.jsx)(n.z,{onClick:()=>{C(!1),Z("")},variant:"outline",className:"border-[#6B7280] text-[#6B7280] hover:bg-[#6B7280] hover:text-white",children:"Cancel"})]})]})}):(0,s.jsx)(l.Zb,{className:"p-8 bg-gradient-to-br from-[#F8F9FA] to-[#E5E7EB] border-0 mb-8",children:(0,s.jsx)("div",{className:"whitespace-pre-line text-[#374151] leading-relaxed text-lg",children:k[j]||"Loading message..."})}),!S&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,s.jsxs)(n.z,{onClick:_,disabled:A||D<=0,variant:"outline",className:"transition-colors ".concat(D<=0?"border-[#9CA3AF] text-[#9CA3AF] cursor-not-allowed":"border-[#3B82F6] text-[#3B82F6] hover:bg-[#3B82F6] hover:text-white"),children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 mr-2 ".concat(A?"animate-spin":"")}),A?"Regenerating...":"Regenerate with AI (".concat(D," tokens)")]}),(0,s.jsxs)(n.z,{onClick:()=>{Z(k[j]),C(!0)},variant:"outline",className:"border-[#F59E0B] text-[#F59E0B] hover:bg-[#F59E0B] hover:text-white transition-colors",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Edit Manually"]}),(0,s.jsxs)(n.z,{onClick:()=>{B(e=>new Set([...e,j])),j<R-1&&N(j+1)},variant:"outline",className:"border-[#6B7280] text-[#6B7280] hover:bg-[#6B7280] hover:text-white transition-colors",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Skip"]}),(0,s.jsxs)(n.z,{onClick:()=>{B(e=>new Set([...e,j])),j<R-1&&N(j+1)},className:"bg-[#3B82F6] text-white hover:bg-[#2563EB] transition-colors",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Approve & Next"]})]})]},j)})})]}),(0,s.jsxs)(i.E.div,{className:"bg-white rounded-2xl p-6 shadow-lg mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-[#6B7280]",children:"Progress"}),(0,s.jsxs)("span",{className:"text-[#111827] font-medium",children:[E.size," / ",R," approved"]})]}),(0,s.jsx)("div",{className:"w-full bg-[#E5E7EB] rounded-full h-3",children:(0,s.jsx)(i.E.div,{className:"bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] h-3 rounded-full",initial:{width:0},animate:{width:"".concat(E.size/R*100,"%")},transition:{duration:.5}})})]}),(0,s.jsxs)(i.E.div,{className:"text-center space-y-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[(0,s.jsx)("p",{className:"text-[#6B7280] mb-6",children:"You can also approve all remaining messages at once."}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,s.jsx)(n.z,{onClick:a,variant:"outline",className:"border-[#6B7280] text-[#6B7280] hover:bg-[#6B7280] hover:text-white transition-colors",children:"Back to Gift"}),(0,s.jsxs)(n.z,{onClick:()=>{B(new Set(Array.from({length:R},(e,t)=>t))),w()},className:"bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] text-white hover:shadow-xl transition-all duration-300 transform hover:scale-105 px-8",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Approve All"]})]}),P&&(0,s.jsx)(i.E.div,{className:"mt-8 p-6 bg-[#10B981] text-white rounded-2xl",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(p.Z,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-lg font-medium",children:"All messages have been approved! Your gift is ready to be sent."})]})})]})]})}),(0,s.jsx)("footer",{className:"px-6 lg:px-8 py-8 bg-white border-t border-[#E5E7EB] mt-16",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] rounded-md flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("span",{className:"text-[#6B7280] font-medium",children:"FloroDay"})]}),(0,s.jsx)("p",{className:"text-sm text-[#9CA3AF]",children:"Review and perfect your messages before they're sent"})]})})]})}},9733:function(e,t,a){a.d(t,{z:function(){return d}});var s=a(7437),r=a(2265),i=a(1538),o=a(3027),n=a(3320);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:d=!1,...c}=e,h=d?i.g7:"button";return(0,s.jsx)(h,{"data-slot":"button",className:(0,n.cn)(l({variant:r,size:o,className:a})),ref:t,...c})});d.displayName="Button"},8185:function(e,t,a){a.d(t,{Zb:function(){return i}});var s=a(7437);a(2265);var r=a(3320);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...a})}},4919:function(e,t,a){a.d(t,{g:function(){return i}});var s=a(7437);a(2265);var r=a(3320);function i(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}},3320:function(e,t,a){a.d(t,{cn:function(){return i}});var s=a(4839),r=a(6164);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}}]);