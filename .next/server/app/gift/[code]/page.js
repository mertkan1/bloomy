(()=>{var e={};e.id=123,e.ids=[123],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9367:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(3349),a(1506),a(5866);var s=a(3191),r=a(8716),i=a(7922),n=a.n(i),o=a(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["gift",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3349)),"C:\\Users\\mertk\\Desktop\\BLOOMY\\figma\\app\\gift\\[code]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\mertk\\Desktop\\BLOOMY\\figma\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mertk\\Desktop\\BLOOMY\\figma\\app\\gift\\[code]\\page.tsx"],m="/gift/[code]/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/gift/[code]/page",pathname:"/gift/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7022:(e,t,a)=>{Promise.resolve().then(a.bind(a,7705))},1890:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1059:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},4893:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},6226:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(9029),r=a.n(s)},9029:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return l},getImageProps:function(){return o}});let s=a(1174),r=a(3078),i=a(2481),n=s._(a(6820));function o(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let l=i.Image},7705:(e,t,a)=>{"use strict";a.d(t,{default:()=>y});var s=a(326),r=a(7577),i=a(5795),n=a(8096),o=a(1664),l=a(9892),d=a(6226),c=a(6333),m=a(1890),u=a(7358),x=a(9183),h=a(1059),p=a(4893);let g=(0,a(2881).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var b=a(7002);a(9963);let f={src:"/_next/static/media/b2dfc7a842334267c53e217f862d55a3f4d30a90.805cb591.png",height:999,width:999,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABBElEQVR42h3Pv0rDQADH8d9dLnc90yoprRVR8Q8OATdBKEIfximv4uTiEF9CcPABHEqgDk4SKYIiBVsTmxrTJl6axOh3/H2mH0HV5ObSQhI4Yu+kixJQbw8ua3RsAB4bX19YRTzu89a+KQ+O/xx55PeWs1GfNtqnNE9mDltpmaK5o0pCAEIh2rtKk6ZZzKcOCW6vVH3rSC+SOdDsVK4B0RRESCxGjxlNgwmWFWrGKlJvgORpACoN5D9ptX+DRUPX/Xp57q1tHyo9/eAgQOC/qywNOasRl2r1DTtf+GHo3XGqc1BdIH6952UWh8wwbYKq4fmZlXz6jqjJrqYzFIy5cn3z/+Yvkoxp3H/sbicAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var v=a(3477);function y({giftId:e,onBack:t}){let[a,y]=(0,r.useState)(1),[A,j]=(0,r.useState)(1),[N,w]=(0,r.useState)(null),[E,F]=(0,r.useState)([]),[B,k]=(0,r.useState)(!1),[H,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)(!1),[O,P]=(0,r.useState)(!1);return((0,r.useRef)(null),N)?(0,s.jsxs)("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[s.jsx(b.Z,{trigger:H}),s.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(12)].map((e,t)=>s.jsx(i.E.div,{className:"absolute opacity-5",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`},animate:{y:[0,-30,0],rotate:[0,180],scale:[1,1.2,1]},transition:{duration:6+4*Math.random(),repeat:1/0,delay:2*Math.random()},children:s.jsx(d.default,{src:v.default,alt:"",className:"w-8 h-8 opacity-60"})},t))}),(0,s.jsxs)("header",{className:"px-8 py-6 flex items-center justify-between relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.default,{src:v.default,alt:"Bloomy",className:"w-6 h-6 object-contain"}),s.jsx("span",{className:"text-2xl font-semibold text-[#111827]",children:"Bloomy"})]}),t&&(0,s.jsxs)(o.z,{onClick:t,variant:"ghost",className:"text-[#6B7280] hover:text-[#111827] transition-colors",children:[s.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Back"]})]}),s.jsx("main",{className:"px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[s.jsx(i.E.div,{className:"bg-white rounded-3xl shadow-lg overflow-hidden mb-8 border border-[#E5E7EB]",initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:(0,s.jsxs)("div",{className:"p-8 lg:p-12",children:[(0,s.jsxs)(i.E.div,{className:"flex items-center justify-between mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[s.jsx(o.z,{onClick:()=>{A>1&&j(A-1)},disabled:1===A,variant:"outline",size:"sm",className:"w-10 h-10 p-0 border-[#E5E7EB] hover:border-[#FF7AA2]",children:s.jsx(m.Z,{className:"w-4 h-4 text-[#6B7280]"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(u.Z,{className:"w-6 h-6 text-[#FF7AA2]"}),(0,s.jsxs)("span",{className:"text-lg font-medium text-[#111827]",children:["Day ",A," of ",N.duration]}),A!==a&&s.jsx("span",{className:"text-sm bg-[#FAF8F6] text-[#6B7280] px-2 py-1 rounded-full",children:"Past Message"})]}),s.jsx(o.z,{onClick:()=>{A<a&&j(A+1)},disabled:A===a,variant:"outline",size:"sm",className:"w-10 h-10 p-0 border-[#E5E7EB] hover:border-[#FF7AA2]",children:s.jsx(x.Z,{className:"w-4 h-4 text-[#6B7280]"})})]}),(0,s.jsxs)(i.E.div,{className:"relative bg-gradient-to-br from-[#FAF8F6] to-[#F0F0F0] rounded-3xl overflow-hidden mb-8",style:{aspectRatio:"1350/1080"},initial:{scale:.8,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{duration:1.2,delay:.4},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FF7AA2]/10 via-[#FF9E66]/5 to-[#FF7AA2]/10 rounded-3xl p-[1px]",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#FAF8F6] to-[#F0F0F0] rounded-[calc(1.5rem-1px)]",children:s.jsx(l.J,{src:N.flower.image,alt:N.flower.name,className:"w-full h-full object-cover rounded-[calc(1.5rem-1px)]"})})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/5 via-transparent to-black/5 flex items-center justify-center group cursor-pointer hover:from-black/10 hover:to-black/10 transition-all duration-500",children:s.jsx(i.E.div,{className:"w-20 h-20 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border border-white/50",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:s.jsx("div",{className:"w-0 h-0 border-l-[14px] border-l-[#FF7AA2] border-t-[8px] border-t-transparent border-b-[8px] border-b-transparent ml-1"})})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-l-2 border-t-2 border-[#FF7AA2]/30 rounded-tl-lg"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-r-2 border-t-2 border-[#FF7AA2]/30 rounded-tr-lg"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-l-2 border-b-2 border-[#FF7AA2]/30 rounded-bl-lg"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-r-2 border-b-2 border-[#FF7AA2]/30 rounded-br-lg"})]}),s.jsx(i.E.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:(0,s.jsxs)(i.E.div,{className:"inline-block mb-4",animate:{scale:[1,1.01,1]},transition:{duration:4,repeat:1/0},children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-serif text-[#111827] mb-2",children:N.recipientName}),s.jsx("p",{className:"text-lg text-[#6B7280]",children:"You have a special message."})]})}),s.jsx(n.M,{mode:"wait",children:s.jsx(i.E.div,{className:"relative bg-gradient-to-br from-white to-[#FAF8F6] rounded-3xl p-10 shadow-sm border border-[#E5E7EB] mb-8",initial:{opacity:0,scale:.95,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-30},transition:{duration:.6,type:"spring",bounce:.3},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)(i.E.div,{className:"relative bg-[#FAF8F6] rounded-2xl p-8 mb-6 border border-[#E5E7EB]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[s.jsx("div",{className:"absolute top-2 left-2 text-3xl text-[#FF7AA2]/20",children:'"'}),s.jsx("div",{className:"absolute bottom-2 right-2 text-3xl text-[#FF7AA2]/20 rotate-180",children:'"'}),s.jsx("p",{className:"text-[#111827] leading-relaxed text-lg whitespace-pre-line px-6",children:E[A-1]||"Loading message..."})]}),(0,s.jsxs)(i.E.div,{className:"flex items-center justify-center gap-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[s.jsx(d.default,{src:v.default,alt:"",className:"w-6 h-6 object-contain"}),(0,s.jsxs)("p",{className:"text-[#6B7280] text-sm",children:["With love from ",N.senderName]})]})]})},A)}),N.music&&s.jsx(i.E.div,{className:"flex items-center justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-[#E5E7EB] flex items-center gap-4",children:[s.jsx(o.z,{onClick:()=>{P(!O)},variant:"ghost",size:"sm",className:"w-12 h-12 p-0 hover:bg-[#FF7AA2]/10 rounded-full",children:O?s.jsx(h.Z,{className:"w-6 h-6 text-[#FF7AA2]"}):s.jsx(p.Z,{className:"w-6 h-6 text-[#FF7AA2] ml-0.5"})}),s.jsx("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx(i.E.div,{className:"w-1 bg-[#FF7AA2] rounded-full",style:{height:O?"16px":"8px"},animate:O?{scaleY:[1,1.8,1]}:{},transition:O?{duration:.6,repeat:1/0,delay:.1*t}:{}},t))})]})})]})}),(0,s.jsxs)(i.E.div,{className:"bg-white rounded-2xl p-6 shadow-lg border border-[#E5E7EB]",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-[#6B7280]",children:"Gift Progress"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-[#111827] font-medium",children:[a," / ",N.duration," days"]}),(0,s.jsxs)(o.z,{onClick:()=>k(!B),variant:"outline",size:"sm",className:"text-[#6B7280] hover:text-[#111827] border-[#E5E7EB] hover:border-[#FF7AA2]",children:[s.jsx(g,{className:"w-4 h-4 mr-2"}),B?"Hide":"Show"," History"]})]})]}),s.jsx("div",{className:"w-full bg-[#E5E7EB] rounded-full h-3 mb-4",children:s.jsx(i.E.div,{className:"bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] h-3 rounded-full",initial:{width:0},animate:{width:`${a/N.duration*100}%`},transition:{duration:1,delay:1.2}})}),s.jsx(i.E.p,{className:"text-center text-lg text-[#6B7280] mb-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8},children:a<N.duration?`${N.duration-a} more days await you`:"Your beautiful journey is complete"}),s.jsx(n.M,{children:B&&s.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,s.jsxs)("div",{className:"border-t border-[#8B7355]/10 pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-[#111827] mb-4",children:"Message History"}),s.jsx("div",{className:"grid gap-2 max-h-60 overflow-y-auto",children:Array.from({length:a},(e,t)=>t+1).reverse().map(e=>(0,s.jsxs)(i.E.button,{onClick:()=>j(e),className:`p-3 rounded-lg text-left transition-colors ${A===e?"bg-gradient-to-r from-[#FF7AA2] to-[#FF9E66] text-white":"bg-[#F8F9FA] hover:bg-[#FAF8F6] text-[#111827]"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:(a-e)*.05},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"font-medium",children:["Day ",e]}),e===a&&s.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:"Latest"})]}),(0,s.jsxs)("p",{className:"text-sm mt-1 opacity-75 truncate",children:[E[e-1]?.replace(/^"/,"")?.substring(0,60),"..."]})]},e))})]})})})]})]})}),s.jsx("footer",{className:"px-8 py-8 bg-white mt-16",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(d.default,{src:v.default,alt:"Bloomy",className:"w-5 h-5 object-contain"}),s.jsx("span",{className:"text-[#6B7280] font-medium",children:"Bloomy"})]})})})]}):s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(i.E.div,{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",animate:{scale:[1,1.1,1],boxShadow:["0 0 20px rgba(255, 122, 162, 0.3)","0 0 40px rgba(255, 122, 162, 0.6)","0 0 20px rgba(255, 122, 162, 0.3)"]},transition:{duration:2,repeat:1/0},children:s.jsx(d.default,{src:f,alt:"Bloomy",className:"w-20 h-20 object-contain"})}),s.jsx(i.E.p,{className:"text-lg text-[#6B7280] font-medium",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Opening your special gift..."})]})})}},3349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,generateMetadata:()=>x});var s=a(9510),r=a(8570);let i=(0,r.createProxy)(String.raw`C:\Users\mertk\Desktop\BLOOMY\figma\src\components\GiftViewPage.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,r.createProxy)(String.raw`C:\Users\mertk\Desktop\BLOOMY\figma\src\components\GiftViewPage.tsx#default`);var d=a(9692),c=a(1615),m=a(9558);async function u({params:e}){let t=(0,d.j)(),{data:a}=await t.from("orders").select("*").eq("gift_code",e.code).eq("status","paid").single(),{data:r}=await t.from("daily_messages").select("*").eq("order_id",a?.id||"").order("day_index",{ascending:!0});return s.jsx("main",{className:"min-h-screen",children:s.jsx(l,{giftId:e.code})})}async function x({params:e}){let t=process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000",a=c.cookies().get("lang")?.value||"tr",s=(0,m.R)(a),r=s["gift.title"]||"Blooomy",i=s["gift.description"]||"";return{title:r,description:i,openGraph:{title:r,description:i,url:`${t}/gift/${e.code}`,images:[{url:`${t}/og/${e.code}`}]}}}},9692:(e,t,a)=>{"use strict";a.d(t,{j:()=>i});var s=a(1615),r=a(7721);function i(){let e=(0,s.cookies)(),t=process.env.NEXT_PUBLIC_SUPABASE_URL,a=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!t||!a)throw Error("Supabase env missing");return(0,r.createServerClient)(t,a,{cookies:{get:t=>e.get(t)?.value,set(t,a,s){e.set({name:t,value:a,...s})},remove(t,a){e.set({name:t,value:"",...a})}}})}},3477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/_next/static/media/7f2e338b7c49e282790a86d9a96a4f9a2abdd1f2.bfce3cba.png",height:928,width:921,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAgVBMVEXuoHvuoHrtoHrun3vun3rtn3ruoHvun3vun3ruoHvuoHvtoHvtn3ruoHrun3vuoHvuoHrtoHvtn3ruoHvtn3rtoHrun3vun3rtn3vuoHrtn3ruoHvuoHrtoHrtn3ruoHrun3ruoHvtoHrun3rtoHrtn3rtn3rtoHvtn3run3rtn3t7z50tAAAAK3RSTlMAAAAAAAABAQEEBQcHCAgJCQkJCgstLS4uLy8wMDAwODg5OTk6OjtEREZGz8HdsAAAAEdJREFUeNoFQAkWQCAQ/cWEUJJ9z879D9iDYKU7NI9B1OfZxIFiecDeWeOStm6q5MRmyd2hXaHa36ivS8FplHIgQARmd5oiD526BGUj3grmAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[633,572,981,795,498,481,721,679],()=>a(9367));module.exports=s})();